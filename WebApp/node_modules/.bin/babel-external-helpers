#!/bin/sh

# Resolve the absolute path of the script
basedir=$(readlink -f "$(dirname "$0")")

# Determine the platform
case `uname` in
    *CYGWIN*|*MINGW*|*MSYS*)
        # Convert the path to Windows format on Cygwin, Mingw or MSYS
        basedir=$(cygpath -w "$basedir")
        ;;
esac

# Check if node executable exists in the parent directory of the script
if [ -x "$basedir/../node" ]; then
  exec "$basedir/../node"  "$basedir/../@babel/cli/bin/babel-external-helpers.js" "$@"
else
  # If node is not present in the parent directory, look for it in the system path
  exec node  "$basedir/../@babel/cli/bin/babel-external-helpers.js" "$@"
fi
