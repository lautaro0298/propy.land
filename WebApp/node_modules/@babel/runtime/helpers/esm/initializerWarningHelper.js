export default function initializerWarningHelper(descriptor, context) {
  if (process.env.NODE_ENV !== 'production') {
    const enableProposalClassProperties = () => {
      try {
        require.resolve('proposal-class-properties');
      } catch (e) {
        return false;
      }
      return true;
    };

    const enableDecoratorsTransform = () => {
      try {
        require.resolve('babel-plugin-decorators');
      } catch (e) {
        return false;
      }
      return true;
    };

    if (!enableProposalClassProperties()) {
      throw new Error('Decorating class property failed. Please ensure that proposal-class-properties is installed and enabled.');
    }

    if (!enableDecoratorsTransform()) {
      throw new Error('Decorating class property failed. Please ensure that babel-plugin-decorators is installed and enabled and runs after the proposal-class-properties transform.');
    }
  }

  throw new Error('Decorating class property failed. This error is likely caused by a misconfiguration of your Babel configuration.');
}
