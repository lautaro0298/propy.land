'use strict';

const internals = {};

internals.once = function (method) {
  if (method._hoekOnce) {
    return method;
  }

  let hasRun = false;
  const wrapped = function (...args) {
    if (!hasRun) {
      hasRun = true;
      method(...args);
    }
  };

  wrapped._hoekOnce = true;
  return wrapped;
};

module.exports = internals.once;
